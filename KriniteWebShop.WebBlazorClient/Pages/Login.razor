@page "/login"
@using KriniteWebShop.WebBlazorClient.Authorize.Models;
@using KriniteWebShop.WebBlazorClient.Services;

<h3 class="h3">Login page</h3>

<p>Work in progress</p>

<input type="text" @bind-value="@UserName" placeholder="Enter username" />
<button @onclick="@SetUserName">Sign in</button>

@code {
    [Inject]
    ILoginService? LoginService{ get; set; }

    [Inject]
    ICartState? CartState { get; set; }

    private string? UserName { get; set; }

    private async Task SetUserName()
    {
        await LoginService!.Login(UserName);
        await InvokeAsync(StateHasChanged);
    }
}
