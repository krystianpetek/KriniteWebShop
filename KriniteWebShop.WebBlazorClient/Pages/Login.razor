@page "/login"
@using KriniteWebShop.WebBlazorClient.Authorize.Models;
@using KriniteWebShop.WebBlazorClient.Services;

<h3 class="h3">Login page</h3>

<p>Work in progress</p>

<div class="p-2">
    <InputText id="username"
               placeholder="Enter Username"
               class="form-control"
               DisplayName="User name"
               @bind-Value="@UserName"></InputText>

    <button class="btn btn-secondary mt-2" @onclick="@SetUserName">Sign in</button>
</div>
@code {
    [Inject]
    ILoginService? LoginService { get; set; }

    [Inject]
    ICartState? CartState { get; set; }

    private string? UserName { get; set; }

    private async Task SetUserName()
    {
        await LoginService!.Login(UserName);
        await InvokeAsync(StateHasChanged);
    }
}
